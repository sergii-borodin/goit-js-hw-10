{"mappings":"AAIA,MAEMA,EAAmBC,SAASC,cAAc,eAC1CC,EAAcF,SAASC,cAAc,iBACrCE,EAAcH,SAASC,cAAc,iBAE3CF,EAAiBK,iBAAiB,SAElC,SAAuBC,ICZQC,EDaGD,EAAEE,OAAOC,MCTlCC,MAFK,qCAAqCH,oDAE/BI,MACfC,IACC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,KDKcL,MAAMM,GAGhD,SAA2BA,GAIvB,GAHAC,QAAQC,IAAIF,GAGa,IAArBA,EAAUG,OAAc,CACxB,MAAOC,GAAWJ,GAClBV,KAACA,EAAIe,MAAEA,EAAKC,QAAEA,EAAOC,WAAEA,EAAUC,UAAEA,GAAaJ,EACtCK,EAAa,eAAeJ,EAAMK,oBAAoBpB,kBAAqBA,qCAChEgB,wCACGC,uCACDC,EAAUG,KAAIC,GAAY,GAAGA,EAAStB,SAAQuB,KAAK,WAC1E3B,EAAY4B,UAAY,GAC1B3B,EAAY2B,UAAYL,C,MAGrB,GAAIT,EAAUG,OAAS,EAAG,CACvB,MAAMY,EAAef,EAAUW,KAAI,EAACrB,KAACA,EAAIe,MAAEA,KAC3C,0DAA0DA,EAAMK,oBAAoBpB,oBAAuBA,eAE9GuB,KAAK,IAEV1B,EAAY2B,UAAY,GACxB5B,EAAY4B,UAAYC,C,EAzBkCC,CAAkBhB,GAAWiB,OAAOC,GAAUjB,QAAQC,IAAIgB,OCdjH,IAAwB5B,C","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import { fetchCountries } from './fetchCountries';\n\nimport './css/styles.css';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst countryNameInput = document.querySelector('#search-box');\nconst countryList = document.querySelector('.country-list');\nconst countryInfo = document.querySelector('.country-info');\n\ncountryNameInput.addEventListener('input', OnInputChange);\n\nfunction OnInputChange(e) {\n    const countryNameInputValue = e.target.value;\n    fetchCountries(countryNameInputValue).then((countries) => renderCountryList(countries).catch((error) => console.log(error)));\n}\n\nfunction renderCountryList(countries) {\n    console.log(countries);\n\n    // Markup rendering in a case when backend sends array of countries\n    if (countries.length === 1) {\n        const [country] = countries;\n  const {name, flags, capital, population, languages} = country;\n            const listMarkup = `<p><img src=${flags.png} alt=\"Flag of ${name}\" width='20'> ${name}</p>\n        <p><b>Capital</b>: ${capital}</p>\n        <p><b>Population</b>: ${population}</p>\n        <p><b>Languages</b>: ${languages.map(language => `${language.name}`).join(\",\")}</p>`;\n        countryList.innerHTML = '';\n      countryInfo.innerHTML = listMarkup;\n}\n    // Markup rendering in a case when backend sends array with one single country\n    else if (countries.length > 1) {\n            const detailMarkup = countries.map(({name, flags}) =>\n            `<li class='countryListItem'><img class='flagImage' src=${flags.png} alt=\"Flag of ${name}\" width='20'><p>${name}</p></li>`\n        )\n        .join(\"\");\n        \n    countryInfo.innerHTML = '';\n    countryList.innerHTML = detailMarkup;\n        }\n}\n  \n","export function fetchCountries(name) {\n\n  const url = `https://restcountries.com/v2/name/${name}?fields=name,capital,population,flags,languages`;\n\n  return fetch(url).then(\n    (response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n"],"names":["$1f0dc3b9307be026$var$countryNameInput","document","querySelector","$1f0dc3b9307be026$var$countryList","$1f0dc3b9307be026$var$countryInfo","addEventListener","e","name","target","value","fetch","then","response","ok","Error","status","json","countries","console","log","length","country","flags","capital","population","languages","listMarkup","png","map","language","join","innerHTML","detailMarkup","$1f0dc3b9307be026$var$renderCountryList","catch","error"],"version":3,"file":"index.1b1163b8.js.map"}